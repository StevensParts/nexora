// ===== Mock Search Index (local content) =====
const LOCAL_INDEX = [
  { title: "Nexora ProSuite - Home", url: "index.html", snippet: "The exclusive enterprise portal connecting 195 countries." },
  { title: "Features", url: "features.html", snippet: "Explore premium enterprise features and tiered membership." },
  { title: "About", url: "about.html", snippet: "Learn more about Nexora ProSuite and our mission." },
  { title: "Contact", url: "contact.html", snippet: "Get in touch with Nexora ProSuite support and partnerships." },
  { title: "Member Login", url: "login.html", snippet: "Secure member login for Nexora ProSuite users." }
];

// ===== Search Logic =====
function performSearch(query) {
  query = query.toLowerCase();
  const results = LOCAL_INDEX.filter(item =>
    item.title.toLowerCase().includes(query) ||
    item.snippet.toLowerCase().includes(query)
  );
  return results;
}

// ===== Render Results =====
function renderResults(results) {
  const container = document.getElementById("searchResults");
  if (!results.length) {
    container.innerHTML = "<p>No results found.</p>";
  } else {
    container.innerHTML = "<ul>" + results.map(r =>
      `<li><a href="${r.url}">${r.title}</a><br><small>${r.snippet}</small></li>`
    ).join("") + "</ul>";
  }
  container.style.display = "block";
}

// ===== Event Listeners =====
document.getElementById("searchBtn").addEventListener("click", () => {
  const query = document.getElementById("searchInput").value.trim();
  if (query) {
    const results = performSearch(query);
    renderResults(results);
  }
});

document.getElementById("searchInput").addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    document.getElementById("searchBtn").click();
  }
});
